"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[106],{106:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});var a=t(791),l=t(689),i=t(87),c=t(628),o=t(184);const r="https://image.tmdb.org/t/p/",d=()=>{const{movieId:e}=(0,l.UO)(),s=(0,l.TH)(),t=(0,l.s0)(),[d,n]=(0,a.useState)(null),[h,m]=(0,a.useState)([]),[x,p]=(0,a.useState)([]),b=s.pathname.includes("cast"),v=s.pathname.includes("reviews");if((0,a.useEffect)((()=>{(async()=>{const s=await(0,c.Y5)(e),t=await(0,c.xc)(e),a=await(0,c.Hx)(e);n(s),m(t.cast),p(a.results)})()}),[e]),!d)return(0,o.jsx)("div",{children:"Loading..."});return(0,o.jsxs)("div",{className:"container mx-auto p-4",children:[(0,o.jsx)("div",{className:"mb-4",children:(0,o.jsx)(i.rU,{to:"/",className:"inline-block text-blue-500 bg-white border border-blue-500 rounded-lg px-4 py-2 text-lg font-semibold hover:bg-blue-500 hover:text-white transition-colors",children:"Back to Home"})}),(0,o.jsxs)("div",{className:"flex flex-col lg:flex-row",children:[(0,o.jsx)("div",{className:"w-full lg:w-1/3 mb-4 lg:mb-0 lg:mr-4 relative",children:(0,o.jsx)("img",{src:d.poster_path?`${r}w500${d.poster_path}`:"https://via.placeholder.com/500x750?text=No+Image",alt:d.title,className:"w-full h-auto object-cover rounded",loading:"lazy",style:{aspectRatio:"2/3"}})}),(0,o.jsxs)("div",{className:"lg:w-2/3",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold mb-2",children:d.title}),(0,o.jsx)("p",{className:"mb-4",children:d.overview}),(0,o.jsxs)("div",{className:"flex space-x-4 mb-4",children:[!b&&!v&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:()=>t(`/movies/${e}/cast`),className:"bg-blue-500 text-white p-2 rounded",children:"View Cast"}),(0,o.jsx)("button",{onClick:()=>t(`/movies/${e}/reviews`),className:"bg-blue-500 text-white p-2 rounded",children:"View Reviews"})]}),(b||v)&&(0,o.jsx)("button",{onClick:()=>t(`/movies/${e}`),className:"bg-blue-500 text-white p-2 rounded",children:"Hide Details"})]}),b&&(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Cast"}),(0,o.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:h.map((e=>(0,o.jsxs)("div",{className:"bg-white p-4 rounded shadow flex flex-col items-center",style:{height:"400px"},children:[(0,o.jsx)("div",{className:"relative w-40 h-60",children:(0,o.jsx)("img",{src:e.profile_path?`${r}w200${e.profile_path}`:"https://via.placeholder.com/200x300?text=No+Image",alt:e.name,className:"w-full h-full object-cover rounded",loading:"lazy",style:{aspectRatio:"2/3"}})}),(0,o.jsx)("h3",{className:"text-lg font-semibold",children:e.name}),(0,o.jsxs)("p",{className:"text-sm text-gray-600",children:["as ",e.character]})]},e.cast_id)))})]}),v&&(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Reviews"}),(0,o.jsx)("div",{children:x.length>0?x.map((e=>(0,o.jsxs)("div",{className:"bg-white p-4 rounded shadow mb-4",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold",children:e.author}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:e.content})]},e.id))):(0,o.jsx)("p",{children:"No reviews available."})})]})]})]})]})}},628:(e,s,t)=>{t.d(s,{Hx:()=>d,Y5:()=>o,wr:()=>i,xc:()=>r,z1:()=>c});const a="45c6f069867dd5e18f5fb19180b28c01",l="https://api.themoviedb.org/3",i=async()=>(await fetch(`${l}/trending/movie/day?api_key=${a}`)).json(),c=async e=>(await fetch(`${l}/search/movie?api_key=${a}&query=${e}`)).json(),o=async e=>(await fetch(`${l}/movie/${e}?api_key=${a}`)).json(),r=async e=>(await fetch(`${l}/movie/${e}/credits?api_key=${a}`)).json(),d=async e=>(await fetch(`${l}/movie/${e}/reviews?api_key=${a}`)).json()}}]);
//# sourceMappingURL=106.05707d39.chunk.js.map